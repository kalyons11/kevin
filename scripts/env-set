#!/bin/bash
#
# Descripton
#
# Quick script to set an environment variable and also push to Travis if
# needed.
# 
# Usage
#
# env-set KEY VALUE --travis
#
# Notes
#
# Must be run in a git/travis repository, naturally.

KEY=$1
VALUE=$2

export $1=$2

# Write to file in env/vars.txt
echo "$KEY=$VALUE" >> env/vars.txt

# Handle Travis case for web dev
if [ ! -z "$3" ]; then
    if [ "$3" == "--travis" ]; then
        travis env set "$KEY" "$VALUE"
    else
        echo "Unrecognized command line argument. Try again."
    fi
fi